<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Routes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#0d86ff",
              secondary: "#3ba0ff",
            },
          },
        },
      };
    </script>
  </head>

  <body class="bg-gradient-to-br from-white to-blue-400 min-h-screen font-sans text-gray-800">
    <!-- Header Area -->
    <header class="flex flex-wrap sm:flex-nowrap justify-between items-center gap-4 px-4 sm:px-8 py-3 bg-white shadow-md sticky top-0 z-50">
      <div class="flex items-center justify-between w-full sm:w-auto">
        <div class="flex items-center gap-2 text-xl font-bold text-primary select-none">
          <svg class="w-7 h-7 fill-primary" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path
              d="M16 1H8a4 4 0 00-4 4v12a4 4 0 004 4h8a4 4 0 004-4V5a4 4 0 00-4-4zM6 5a2 2 0 012-2h8a2 2 0 012 2v4H6V5zm12 8v1a2 2 0 01-2 2H8a2 2 0 01-2-2v-1h12zM7.5 18a1 1 0 100 2 1 1 0 000-2zm9 0a1 1 0 100 2 1 1 0 000-2z">
            </path>
          </svg>
          BusTracker
        </div>
        <!-- Hamburger button -->
        <div class="sm:hidden">
          <button
            id="menu-toggle"
            class="text-gray-700 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary rounded"
          >
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16m-7 6h7">
              </path>
            </svg>
          </button>
        </div>
      </div>
      <!-- Menu items -->
      <div
        id="menu"
        class="hidden sm:flex flex-col sm:flex-row items-center gap-6 w-full sm:w-auto"
      >
        <nav aria-label="Primary Navigation">
          <ul class="flex flex-col sm:flex-row gap-4 sm:gap-8 text-gray-600 font-semibold">
            <li>
              <a
                href="./index.html"
                class="cursor-pointer select-none hover:text-primary transition-colors"
                tabindex="0"
                aria-current="page"
                >Live Map</a
              >
            </li>
            <li>
              <a
                href="./schedule.html"
                class="cursor-pointer select-none hover:text-primary transition-colors"
                tabindex="0"
                >Schedules</a
              >
            </li>
            <li>
              <a
                href="#"
                class="text-primary cursor-pointer select-none"
                tabindex="0"
                >Routes</a
              >
            </li>
          </ul>
        </nav>
        <div class="flex items-center gap-6 text-gray-700 text-xl select-none mt-4 sm:mt-0">
          <button
            class="relative focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-full p-1 hover:text-primary transition-colors"
            aria-label="Notifications"
            title="Notifications"
            type="button"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
              class="w-6 h-6"
              viewBox="0 0 24 24"
            >
              <path d="M18 8a6 6 0 00-12 0c0 7-3 9-3 9h18s-3-2-3-9"></path>
              <path d="M13.73 21a2 2 0 01-3.46 0"></path>
            </svg>
            <span
              class="absolute -top-1 -right-2 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full"
              aria-live="polite"
              aria-atomic="true"
              >2</span
            >
          </button>
          <button
            class="focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-full p-1 hover:text-primary transition-colors"
            aria-label="User Account"
            title="User Account"
            type="button"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
              class="w-6 h-6"
              viewBox="0 0 24 24"
            >
              <circle cx="12" cy="7" r="4"></circle>
              <path d="M5.5 21a13.9 13.9 0 0113 0"></path>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content: Map and Routes Side by Side (Responsive) -->
    <div class="flex flex-col md:flex-row h-auto md:h-[calc(100vh-4rem)]">
      <!-- Map Section -->
      <div id="mapContainer" class="flex-1 relative bg-blue-100 min-h-[320px]">
        <div class="flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200">
          <h2 class="text-xl font-bold text-gray-800">Live Bus Tracking</h2>
          <div class="flex items-center gap-2">
            <button
              class="bg-gray-100 text-gray-700 rounded-lg py-2 px-4 font-semibold text-sm flex items-center gap-2 hover:bg-blue-100 hover:text-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary"
            >
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
                focusable="false"
              >
                <circle cx="12" cy="12" r="3" />
                <path
                  d="M12 2v2M12 20v2M20 12h2M2 12h2M16.95 7.05l1.414 1.415M5.636 18.364l1.414 1.414M16.95 16.95l1.414-1.415M5.636 5.636l1.414-1.414"
                />
              </svg>
              My Location
            </button>
            <button
              id="fullscreenToggle"
              class="bg-gray-100 text-gray-700 rounded-lg py-2 px-4 font-semibold text-sm hover:bg-blue-100 hover:text-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary"
            >
              Full Screen
            </button>
          </div>
        </div>
        <div class="relative h-48 md:h-full">
          <!-- Map placeholder -->
          <div class="absolute inset-0 bg-blue-300">
            <img src="../../src/resources/dummymap.png" alt="Map" class="object-cover w-full h-full"/>
          </div>
        </div>
        <div class="flex justify-between items-center p-4 bg-gray-50 border-t border-gray-200 text-sm text-slate-600">
          <div class="flex gap-5 font-medium">
            <div class="flex items-center gap-1.5">
              <span class="w-3.5 h-3.5 bg-blue-500 rounded-full shadow-sm"></span>
              On Schedule
            </div>
            <div class="flex items-center gap-1.5">
              <span class="w-3.5 h-3.5 bg-yellow-400 rounded-full shadow-sm"></span>
              Delayed
            </div>
            <div class="flex items-center gap-1.5">
              <span class="w-3.5 h-3.5 bg-green-500 rounded-full shadow-sm"></span>
              Early
            </div>
          </div>
          <div tabindex="0" role="status" class="text-slate-500">
            Last updated: 30s ago
          </div>
        </div>
      </div>

      <!-- Nearby Routes Sidebar -->
      <aside class="w-full md:w-1/3 px-2 md:px-4 py-4 overflow-y-auto bg-white md:h-auto md:max-h-[calc(100vh-4rem)]">
        <h2 class="text-xl font-semibold mb-4 pl-2 md:pl-0">Nearby Routes</h2>
        <div class="space-y-4">
          <div class="p-4 bg-gray-100 rounded shadow">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-lg font-bold">Express Downtown</div>
                <div class="text-sm text-gray-600">
                  Financial District · 0.2 mi away
                </div>
              </div>
              <div class="text-green-500 font-semibold">3 min</div>
            </div>
            <div class="mt-2 flex items-center justify-between">
              <span class="text-blue-500 cursor-pointer">Schedule</span>
              <span class="text-blue-500 cursor-pointer">Track</span>
            </div>
          </div>
          <div class="p-4 bg-gray-100 rounded shadow">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-lg font-bold">City Loop</div>
                <div class="text-sm text-gray-600">
                  University Campus · 0.4 mi away
                </div>
              </div>
              <div class="text-yellow-500 font-semibold">8 min</div>
            </div>
            <div class="mt-2 flex items-center justify-between">
              <span class="text-blue-500 cursor-pointer">Schedule</span>
              <span class="text-blue-500 cursor-pointer">Track</span>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <style>
      #mapContainer.fullscreen {
        position: fixed;
        top: 4rem;
        left: 0;
        width: 100vw;
        height: calc(100vh - 4rem);
        z-index: 9999;
        border-radius: 0;
      }
      #mapContainer.fullscreen .relative {
        height: 100%;
      }
      @media (max-width: 767px) {
        aside {
          min-height: 0 !important;
          max-height: none !important;
        }
      }
    </style>

    <script>
      // Fullscreen toggle for map
      const fullscreenToggle = document.getElementById("fullscreenToggle");
      const mapContainer = document.getElementById("mapContainer");
      fullscreenToggle.addEventListener("click", () => {
        mapContainer.classList.toggle("fullscreen");
      });

      // Hamburger for menu (mobile)
      const menuToggle = document.getElementById("menu-toggle");
      const menu = document.getElementById("menu");
      menuToggle.addEventListener("click", () => {
        menu.classList.toggle("hidden");
      });

      // Mobile sidebar toggle logic (if needed in future)
    </script>
  </body>
</html>
